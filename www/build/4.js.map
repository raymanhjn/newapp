{"version":3,"sources":["../../src/pages/restaurant/restaurant.module.ts","../../src/pages/restaurant/restaurant.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RestaurantPage } from './restaurant';\nimport { DirectivesModule } from '../../directives/directives.module';\n@NgModule({\n  declarations: [\n    RestaurantPage,\n  ],\n  imports: [\n    DirectivesModule,\n    IonicPageModule.forChild(RestaurantPage),\n  ],\n})\nexport class RestaurantPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/restaurant/restaurant.module.ts","import { Component,Input } from '@angular/core';\nimport { IonicPage, NavController, NavParams,ToastController } from 'ionic-angular';\nimport { FirebaseServiceProvider } from '../../providers/firebase-service/firebase-service';\nimport { AngularFireList } from 'angularfire2/database';\n\nimport { Item,Food } from '../../models/restaurant';\n\n@IonicPage()\n@Component({\n  selector: 'page-restaurant',\n  templateUrl: 'restaurant.html',\n})\nexport class RestaurantPage {\n  @Input(\"submenu\") submenu:HTMLElement;\n  foods: Food[];\n  orders: Item[]=[];\n  totalprice:number=0;\n  openOrder:boolean;\n  foodFromFirebase: AngularFireList<Food>;\n\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public firebaseService: FirebaseServiceProvider,\n    public toastCtrl: ToastController) {\n    this.foodFromFirebase = this.firebaseService.getFoods();\n    this.foodFromFirebase.valueChanges<Food>().subscribe( data => {\n      this.foods = data;\n    } );\n    this.openOrder = false;\n  }\n\n\n  addToOrder(id) {\n    let orderFoods = this.orders.map( order=> {\n      return order.food;\n    })\n\n    if(orderFoods.indexOf(this.foods[id]) == -1){\n      orderFoods.push(this.foods[id]);\n      this.totalprice += this.foods[id].price;\n      this.orders.push({\n        food:this.foods[id],\n        number: 1,\n      });\n    } else {\n      console.log(\"it has already been added into order\");\n    }\n  }\n\n  openOrderTrigger(event) {\n    this.openOrder = !this.openOrder;\n  }\n\n  //confirm without toast\n  confirmOrder(orderToCheck) {\n    let getData = (backOrders) => {\n      return new Promise((resolve, reject) => {\n        this.orders = backOrders;\n        this.totalprice=0;\n        this.orders.map( order=> {\n          this.totalprice += order.food.price*order.number;\n        })\n        resolve();\n      })\n    };\n      this.navCtrl.push(\"OrderConfirmPage\",{\n        order:orderToCheck,\n        callback: getData,\n      });\n  }\n\n  //confirm with toast\n  confirmOrderSmall(orderToCheck) {\n    if(orderToCheck && orderToCheck.length>0){\n      this.confirmOrder(orderToCheck);\n    } else {\n      let toast = this.toastCtrl.create({\n        message: 'Please order some food first',\n        duration: 2000,\n        position: 'top'\n      });\n      toast.present();\n    }\n  }\n\n  decrement_item(i) {\n    this.orders[i].number = this.orders[i].number-1;\n    this.totalprice -= this.orders[i].food.price;\n  }\n\n  increment_item(i) {\n    this.orders[i].number = this.orders[i].number+1;\n    this.totalprice += this.orders[i].food.price;\n  }\n\n  delete_item(i) {\n    this.totalprice-=this.orders[i].food.price*this.orders[i].number;\n    this.orders.splice(i,1);\n  }\n\n  delete_allitems() {\n    this.orders = [];\n    this.totalprice=0;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/restaurant/restaurant.ts"],"sourceRoot":""}